<!DOCTYPE html><!--h8z0kyIJGHg7dM0t8m2RN--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/5aaea0e0a0f51982.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/b77fa77a013ad38a.js"/><script src="/_next/static/chunks/806bdb8e4a6a9b95.js" async=""></script><script src="/_next/static/chunks/aee6c7720838f8a2.js" async=""></script><script src="/_next/static/chunks/045e59273b8f7eaf.js" async=""></script><script src="/_next/static/chunks/turbopack-61cde33c55e0279c.js" async=""></script><script src="/_next/static/chunks/8efa3a9d801e64bd.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/d2be314c3ece3fbe.js" async=""></script><script src="/_next/static/chunks/d8b0281b15885e7b.js" async=""></script><meta name="next-size-adjust" content=""/><title>gem capistrano-container-db | Next Markdown Blog</title><meta name="description" content="Helps managing databases on local and remote stages"/><link rel="icon" href="/favicon.ico?favicon.f01c0d7e.ico" sizes="16x16" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable text-slate-900 antialiased"><div hidden=""><!--$--><!--/$--></div><header class="sticky top-0 z-30 border-b border-[#111827] bg-[#2f373e] text-white shadow-md backdrop-blur"><div class="mx-auto flex h-12 max-w-5xl items-center justify-between px-4 sm:px-6"><a class="relative top-[8px] left-[-8px] text-[14px] font-semibold !text-[#838383] transition hover:text-[#e5e7eb]" href="/">blog.tomhanoldt.info</a><div class="flex items-center gap-3"><button type="button" class="flex h-9 w-9 items-center justify-center rounded-md border border-transparent text-[#cbd5e1] transition hover:border-[#4b5563] hover:bg-[#1f2937] md:hidden" aria-expanded="false" aria-label="Menü öffnen"><span class="sr-only">Menü öffnen</span><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button><nav class="hidden items-center gap-3 text-sm font-medium text-[#cbd5e1] md:flex"><a class="rounded-full px-3 py-2 transition hover:bg-[#1f2937] hover:text-white" href="/tag/code">#<!-- -->code</a><a class="rounded-full px-3 py-2 transition hover:bg-[#1f2937] hover:text-white" href="/tag/painting">#<!-- -->painting</a><a class="rounded-full px-3 py-2 transition hover:bg-[#1f2937] hover:text-white" href="/tag/text">#<!-- -->text</a><a class="rounded-full px-3 py-2 transition hover:bg-[#1f2937] hover:text-white" href="/tag/music">#<!-- -->music</a><a class="rounded-full px-3 py-2 transition hover:bg-[#1f2937] hover:text-white" href="/tag/art">#<!-- -->art</a></nav></div></div></header><main class="mx-auto max-w-5xl px-6 pb-16 pt-6 lg:px-0"><article id="top" class="markdown"><div class="mt-2 flex flex-col gap-4"><div class="relative flex items-center"><a class="absolute -left-11 top-[55%] inline-flex h-9 w-9 -translate-y-1/2 items-center justify-center rounded-full text-[color:var(--accent)] transition hover:bg-[color:var(--surface)] hover:text-[color:var(--accent)]" aria-label="Back to latest posts" href="/"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"></path></svg></a><h1 class="text-4xl font-semibold leading-tight text-[color:var(--foreground)]">gem capistrano-container-db</h1></div><div class="flex flex-col gap-4 sm:flex-row sm:items-start sm:gap-6"><div class="relative h-[150px] w-[220px] flex-shrink-0 overflow-hidden rounded-xl bg-[color:var(--surface)]"><div class="flex h-full w-full items-center justify-center bg-[color:var(--surface-strong)] text-[color:var(--muted)]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.4" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-14 w-14" style="color:#2563eb"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"></path></svg></div></div><div class="flex min-w-0 flex-1 flex-col"><div class="flex items-center gap-3 text-xs text-[color:var(--muted)]"><span>Sep 26, 2016</span></div><p class="mt-3 text-lg text-[color:var(--muted)]">Helps managing databases on local and remote stages</p><div class="mt-3 flex flex-wrap gap-2"><a class="hover:translate-y-[-1px] transition-transform" href="/tag/capistrano"><span class="rounded-full bg-[rgba(0,90,140,0.08)] px-3 py-1 text-xs font-medium text-[color:var(--accent)] ring-1 ring-inset ring-[rgba(0,90,140,0.18)]">#capistrano</span></a><a class="hover:translate-y-[-1px] transition-transform" href="/tag/code"><span class="rounded-full bg-[rgba(0,90,140,0.08)] px-3 py-1 text-xs font-medium text-[color:var(--accent)] ring-1 ring-inset ring-[rgba(0,90,140,0.18)]">#code</span></a><a class="hover:translate-y-[-1px] transition-transform" href="/tag/deployment"><span class="rounded-full bg-[rgba(0,90,140,0.08)] px-3 py-1 text-xs font-medium text-[color:var(--accent)] ring-1 ring-inset ring-[rgba(0,90,140,0.18)]">#deployment</span></a><a class="hover:translate-y-[-1px] transition-transform" href="/tag/docker"><span class="rounded-full bg-[rgba(0,90,140,0.08)] px-3 py-1 text-xs font-medium text-[color:var(--accent)] ring-1 ring-inset ring-[rgba(0,90,140,0.18)]">#docker</span></a><a class="hover:translate-y-[-1px] transition-transform" href="/tag/ruby"><span class="rounded-full bg-[rgba(0,90,140,0.08)] px-3 py-1 text-xs font-medium text-[color:var(--accent)] ring-1 ring-inset ring-[rgba(0,90,140,0.18)]">#ruby</span></a></div></div></div></div><div class="my-8 h-px w-full bg-[color:var(--border)]"></div><div class="mt-8"><p>Helps managing databases on local and remote stages, also on remote <a class="font-semibold text-blue-700 underline-offset-4 hover:underline" href="https://www.docker.com/">docker</a> container for <a class="font-semibold text-blue-700 underline-offset-4 hover:underline" href="http://capistranorb.com/">Capistrano 3.x</a>.<br/>
<!-- -->This project is in an early stage but helps me a lot dealing with my container deployments and keeps my code clean. It is not only meant for mysql, but at the moment there is only support for mysql, feel free to contribute =)<br/>
<!-- -->This gem depends on <a class="font-semibold text-blue-700 underline-offset-4 hover:underline" href="https://github.com/creative-workflow/capistrano-container">capistrano-container</a></p>
<h3 id="capistrano-integration"><a class="font-semibold text-blue-700 underline-offset-4 hover:underline" href="#capistrano-integration">capistrano integration</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="ruby" data-theme="github-light" class="my-6 overflow-x-auto rounded-xl border border-slate-200 bg-slate-100 p-3 text-sm text-slate-900 shadow-inner"><code data-language="ruby" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#24292E">server </span><span style="color:#032F62">&#x27;www.example.com&#x27;</span><span style="color:#24292E">, </span><span style="color:#005CC5">user:</span><span style="color:#032F62"> &#x27;root&#x27;</span><span style="color:#24292E">, </span><span style="color:#005CC5">roles:</span><span style="color:#032F62"> %w{web}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#24292E">container </span><span style="color:#032F62">&#x27;db&#x27;</span><span style="color:#24292E">, </span><span style="color:#005CC5">roles:</span><span style="color:#032F62"> %w{db}</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#005CC5">  container_id:</span><span style="color:#032F62"> &#x27;website_company_beta_db&#x27;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#005CC5">  server:</span><span style="color:#24292E"> [</span><span style="color:#032F62">&#x27;www.example.com&#x27;</span><span style="color:#24292E">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6A737D"># here is the capistrano-container-db config you need</span></span>
<span data-line=""><span style="color:#24292E">set </span><span style="color:#005CC5">:db_is_container</span><span style="color:#24292E">, </span><span style="color:#005CC5">true</span></span>
<span data-line=""><span style="color:#24292E">set </span><span style="color:#005CC5">:db_user</span><span style="color:#24292E">, </span><span style="color:#032F62">&#x27;wordpress&#x27;</span></span>
<span data-line=""><span style="color:#24292E">set </span><span style="color:#005CC5">:db_pass</span><span style="color:#24292E">, </span><span style="color:#032F62">&#x27;wordpress&#x27;</span></span>
<span data-line=""><span style="color:#24292E">set </span><span style="color:#005CC5">:db_name</span><span style="color:#24292E">, </span><span style="color:#032F62">&#x27;my_wordpress_db_inside_docker&#x27;</span></span></code></pre></figure>
<pre class="my-6 overflow-x-auto rounded-xl border border-slate-200 bg-slate-100 p-3 text-sm text-slate-900 shadow-inner"><code>
This configures the db access for the db container. If :db\_is\_container is true, the gem uses the capistrano-container extension to select the container by name fetch(:db\_container\_name) (defaults to &#x27;db&#x27;).
If the stage name is equal :local, export/import tasks will run on your local host (no matter if it&#x27;s a dockaer container or local mysql installation).
Dont forget to add a server (even for local stage) with the role db. `server &#x27;localhost&#x27;, user: &#x27;any&#x27;, roles: %w{web db php}`

### commandline tasks

```bash
cap db:export               # export a local, remote or remote container mysql db
cap db:import               # import a local, remote or remote container mysql db
cap db:execute              # execute a mysql command local, remote or container host
</code></pre>
<h3 id="ressources"><a class="font-semibold text-blue-700 underline-offset-4 hover:underline" href="#ressources">ressources</a></h3>
<ul>
<li><a class="font-semibold text-blue-700 underline-offset-4 hover:underline" href="https://github.com/creative-workflow/capistrano-container-db">code on github</a></li>
<li><a class="font-semibold text-blue-700 underline-offset-4 hover:underline" href="https://rubygems.org/gems/capistrano-container-db">rubygems.org</a></li>
<li>depends on <a class="font-semibold text-blue-700 underline-offset-4 hover:underline" href="https://rubygems.org/gems/capistrano-container">capistrano-container</a></li>
</ul></div><div class="mt-10 flex items-center justify-between gap-4"><a class="group inline-flex h-12 w-12 items-center justify-center rounded-full border border-[color:var(--border)] bg-[color:var(--surface)] text-[color:var(--accent)] transition hover:border-[color:var(--accent)] hover:bg-[color:var(--accent)] hover:text-[color:var(--background)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--accent)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--background)]" aria-label="Newer post: easy-terminal-app" title="Newer post: easy-terminal-app" href="/posts/easy-terminal-app"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg></a><a class="group inline-flex h-12 w-12 items-center justify-center rounded-full border border-[color:var(--border)] bg-[color:var(--surface)] text-[color:var(--accent)] transition hover:border-[color:var(--accent)] hover:bg-[color:var(--accent)] hover:text-[color:var(--background)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--accent)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--background)]" aria-label="Older post: wordpress-docker" title="Older post: wordpress-docker" href="/posts/wordpress-docker"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></a></div><div class="mt-10 flex items-center justify-between text-sm font-semibold text-[color:var(--accent)]"><a class="inline-flex items-center gap-2 rounded-full px-3 py-2 transition hover:bg-[color:var(--surface)]" href="/"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"></path></svg>Back to latest</a><button type="button" class="inline-flex items-center gap-2 rounded-full px-3 py-2 text-sm font-semibold text-[color:var(--accent)] transition hover:bg-[color:var(--surface)]" aria-label="Back to top">Back to top<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"></path></svg></button></div></article><!--$--><!--/$--></main><script src="/_next/static/chunks/b77fa77a013ad38a.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[36852,[\"/_next/static/chunks/8efa3a9d801e64bd.js\"],\"SiteHeader\"]\n3:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"default\"]\n4:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"default\"]\n6:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"MetadataBoundary\"]\nd:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/5aaea0e0a0f51982.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"h8z0kyIJGHg7dM0t8m2RN\",\"c\":[\"\",\"posts\",\"gem-capistrano-container-db\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"gem-capistrano-container-db\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/5aaea0e0a0f51982.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/8efa3a9d801e64bd.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable text-slate-900 antialiased\",\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"main\",null,{\"className\":\"mx-auto max-w-5xl px-6 pb-16 pt-6 lg:px-0\",\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/d8b0281b15885e7b.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$La\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$Lc\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"e:I[22016,[\"/_next/static/chunks/8efa3a9d801e64bd.js\",\"/_next/static/chunks/d8b0281b15885e7b.js\"],\"\"]\n1b:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"IconMark\"]\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"article\",null,{\"id\":\"top\",\"className\":\"markdown\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mt-2 flex flex-col gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative flex items-center\",\"children\":[[\"$\",\"$Le\",null,{\"href\":\"/\",\"className\":\"absolute -left-11 top-[55%] inline-flex h-9 w-9 -translate-y-1/2 items-center justify-center rounded-full text-[color:var(--accent)] transition hover:bg-[color:var(--surface)] hover:text-[color:var(--accent)]\",\"aria-label\":\"Back to latest posts\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"strokeWidth\":1.5,\"stroke\":\"currentColor\",\"aria-hidden\":true,\"data-slot\":\"icon\",\"ref\":\"$undefined\",\"aria-labelledby\":\"$undefined\",\"className\":\"h-5 w-5\",\"children\":[null,[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3\"}]]}]}],[\"$\",\"h1\",null,{\"className\":\"text-4xl font-semibold leading-tight text-[color:var(--foreground)]\",\"children\":\"gem capistrano-container-db\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col gap-4 sm:flex-row sm:items-start sm:gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative h-[150px] w-[220px] flex-shrink-0 overflow-hidden rounded-xl bg-[color:var(--surface)]\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex h-full w-full items-center justify-center bg-[color:var(--surface-strong)] text-[color:var(--muted)]\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"strokeWidth\":1.4,\"stroke\":\"currentColor\",\"aria-hidden\":\"true\",\"data-slot\":\"icon\",\"ref\":\"$undefined\",\"aria-labelledby\":\"$undefined\",\"className\":\"h-14 w-14\",\"style\":{\"color\":\"#2563eb\"},\"children\":[null,[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5\"}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"flex min-w-0 flex-1 flex-col\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-3 text-xs text-[color:var(--muted)]\",\"children\":[\"$\",\"span\",null,{\"children\":\"Sep 26, 2016\"}]}],[\"$\",\"p\",null,{\"className\":\"mt-3 text-lg text-[color:var(--muted)]\",\"children\":\"Helps managing databases on local and remote stages\"}],[\"$\",\"div\",null,{\"className\":\"mt-3 flex flex-wrap gap-2\",\"children\":[[\"$\",\"$Le\",\"capistrano\",{\"href\":\"/tag/capistrano\",\"className\":\"hover:translate-y-[-1px] transition-transform\",\"children\":[\"$\",\"span\",null,{\"className\":\"rounded-full bg-[rgba(0,90,140,0.08)] px-3 py-1 text-xs font-medium text-[color:var(--accent)] ring-1 ring-inset ring-[rgba(0,90,140,0.18)]\",\"children\":\"#capistrano\"}]}],[\"$\",\"$Le\",\"code\",{\"href\":\"/tag/code\",\"className\":\"hover:translate-y-[-1px] transition-transform\",\"children\":[\"$\",\"span\",null,{\"className\":\"rounded-full bg-[rgba(0,90,140,0.08)] px-3 py-1 text-xs font-medium text-[color:var(--accent)] ring-1 ring-inset ring-[rgba(0,90,140,0.18)]\",\"children\":\"#code\"}]}],[\"$\",\"$Le\",\"deployment\",{\"href\":\"/tag/deployment\",\"className\":\"hover:translate-y-[-1px] transition-transform\",\"children\":[\"$\",\"span\",null,{\"className\":\"rounded-full bg-[rgba(0,90,140,0.08)] px-3 py-1 text-xs font-medium text-[color:var(--accent)] ring-1 ring-inset ring-[rgba(0,90,140,0.18)]\",\"children\":\"#deployment\"}]}],[\"$\",\"$Le\",\"docker\",{\"href\":\"/tag/docker\",\"className\":\"hover:translate-y-[-1px] transition-transform\",\"children\":[\"$\",\"span\",null,{\"className\":\"rounded-full bg-[rgba(0,90,140,0.08)] px-3 py-1 text-xs font-medium text-[color:var(--accent)] ring-1 ring-inset ring-[rgba(0,90,140,0.18)]\",\"children\":\"#docker\"}]}],[\"$\",\"$Le\",\"ruby\",{\"href\":\"/tag/ruby\",\"className\":\"hover:translate-y-[-1px] transition-transform\",\"children\":[\"$\",\"span\",null,{\"className\":\"rounded-full bg-[rgba(0,90,140,0.08)] px-3 py-1 text-xs font-medium text-[color:var(--accent)] ring-1 ring-inset ring-[rgba(0,90,140,0.18)]\",\"children\":\"#ruby\"}]}]]}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"my-8 h-px w-full bg-[color:var(--border)]\"}],[\"$\",\"div\",null,{\"className\":\"mt-8\",\"children\":[[\"$\",\"p\",null,{\"children\":[\"Helps managing databases on local and remote stages, also on remote \",\"$Lf\",\" container for \",\"$L10\",\".\",\"$L11\",\"\\n\",\"This project is in an early stage but helps me a lot dealing with my container deployments and keeps my code clean. It is not only meant for mysql, but at the moment there is only support for mysql, feel free to contribute =)\",\"$L12\",\"\\n\",\"This gem depends on \",\"$L13\"]}],\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\"]}],\"$L19\",\"$L1a\"]}]\n"])</script><script>self.__next_f.push([1,"8:null\nc:[[\"$\",\"title\",\"0\",{\"children\":\"gem capistrano-container-db | Next Markdown Blog\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Helps managing databases on local and remote stages\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.f01c0d7e.ico\",\"sizes\":\"16x16\",\"type\":\"image/x-icon\"}],[\"$\",\"$L1b\",\"3\",{}]]\n"])</script><script>self.__next_f.push([1,"1c:I[8675,[\"/_next/static/chunks/8efa3a9d801e64bd.js\",\"/_next/static/chunks/d8b0281b15885e7b.js\"],\"ScrollToTopButton\"]\nf:[\"$\",\"$Le\",null,{\"href\":\"https://www.docker.com/\",\"className\":\"font-semibold text-blue-700 underline-offset-4 hover:underline\",\"children\":\"docker\"}]\n10:[\"$\",\"$Le\",null,{\"href\":\"http://capistranorb.com/\",\"className\":\"font-semibold text-blue-700 underline-offset-4 hover:underline\",\"children\":\"Capistrano 3.x\"}]\n11:[\"$\",\"br\",null,{}]\n12:[\"$\",\"br\",null,{}]\n13:[\"$\",\"$Le\",null,{\"href\":\"https://github.com/creative-workflow/capistrano-container\",\"className\":\"font-semibold text-blue-700 underline-offset-4 hover:underline\",\"children\":\"capistrano-container\"}]\n14:[\"$\",\"h3\",null,{\"id\":\"capistrano-integration\",\"children\":[\"$\",\"$Le\",null,{\"href\":\"#capistrano-integration\",\"className\":\"font-semibold text-blue-700 underline-offset-4 hover:underline\",\"children\":\"capistrano integration\"}]}]\n"])</script><script>self.__next_f.push([1,"15:[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#fff\",\"color\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"ruby\",\"data-theme\":\"github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"ruby\",\"data-theme\":\"github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"server \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"'www.example.com'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"user:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" 'root'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"roles:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" %w{web}\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"container \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"'db'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"roles:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" %w{db}\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"  container_id:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" 'website_company_beta_db'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"  server:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"'www.example.com'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"# here is the capistrano-container-db config you need\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"set \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\":db_is_container\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"true\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"set \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\":db_user\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"'wordpress'\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"set \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\":db_pass\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"'wordpress'\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"set \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\":db_name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"'my_wordpress_db_inside_docker'\"}]]}]]}],\"className\":\"my-6 overflow-x-auto rounded-xl border border-slate-200 bg-slate-100 p-3 text-sm text-slate-900 shadow-inner\"}]}]\n"])</script><script>self.__next_f.push([1,"16:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"\\nThis configures the db access for the db container. If :db\\\\_is\\\\_container is true, the gem uses the capistrano-container extension to select the container by name fetch(:db\\\\_container\\\\_name) (defaults to 'db').\\nIf the stage name is equal :local, export/import tasks will run on your local host (no matter if it's a dockaer container or local mysql installation).\\nDont forget to add a server (even for local stage) with the role db. `server 'localhost', user: 'any', roles: %w{web db php}`\\n\\n### commandline tasks\\n\\n```bash\\ncap db:export               # export a local, remote or remote container mysql db\\ncap db:import               # import a local, remote or remote container mysql db\\ncap db:execute              # execute a mysql command local, remote or container host\\n\"}],\"className\":\"my-6 overflow-x-auto rounded-xl border border-slate-200 bg-slate-100 p-3 text-sm text-slate-900 shadow-inner\"}]\n17:[\"$\",\"h3\",null,{\"id\":\"ressources\",\"children\":[\"$\",\"$Le\",null,{\"href\":\"#ressources\",\"className\":\"font-semibold text-blue-700 underline-offset-4 hover:underline\",\"children\":\"ressources\"}]}]\n18:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$Le\",null,{\"href\":\"https://github.com/creative-workflow/capistrano-container-db\",\"className\":\"font-semibold text-blue-700 underline-offset-4 hover:underline\",\"children\":\"code on github\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$Le\",null,{\"href\":\"https://rubygems.org/gems/capistrano-container-db\",\"className\":\"font-semibold text-blue-700 underline-offset-4 hover:underline\",\"children\":\"rubygems.org\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"depends on \",[\"$\",\"$Le\",null,{\"href\":\"https://rubygems.org/gems/capistrano-container\",\"className\":\"font-semibold text-blue-700 underline-offset-4 hover:underline\",\"children\":\"capistrano-container\"}]]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"19:[\"$\",\"div\",null,{\"className\":\"mt-10 flex items-center justify-between gap-4\",\"children\":[[\"$\",\"$Le\",null,{\"href\":\"/posts/easy-terminal-app\",\"className\":\"group inline-flex h-12 w-12 items-center justify-center rounded-full border border-[color:var(--border)] bg-[color:var(--surface)] text-[color:var(--accent)] transition hover:border-[color:var(--accent)] hover:bg-[color:var(--accent)] hover:text-[color:var(--background)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--accent)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--background)]\",\"aria-label\":\"Newer post: easy-terminal-app\",\"title\":\"Newer post: easy-terminal-app\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"strokeWidth\":1.5,\"stroke\":\"currentColor\",\"aria-hidden\":true,\"data-slot\":\"icon\",\"ref\":\"$undefined\",\"aria-labelledby\":\"$undefined\",\"className\":\"h-5 w-5\",\"children\":[null,[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18\"}]]}]}],[\"$\",\"$Le\",null,{\"href\":\"/posts/wordpress-docker\",\"className\":\"group inline-flex h-12 w-12 items-center justify-center rounded-full border border-[color:var(--border)] bg-[color:var(--surface)] text-[color:var(--accent)] transition hover:border-[color:var(--accent)] hover:bg-[color:var(--accent)] hover:text-[color:var(--background)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--accent)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--background)]\",\"aria-label\":\"Older post: wordpress-docker\",\"title\":\"Older post: wordpress-docker\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"strokeWidth\":1.5,\"stroke\":\"currentColor\",\"aria-hidden\":true,\"data-slot\":\"icon\",\"ref\":\"$undefined\",\"aria-labelledby\":\"$undefined\",\"className\":\"h-5 w-5\",\"children\":[null,[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3\"}]]}]}]]}]\n"])</script><script>self.__next_f.push([1,"1a:[\"$\",\"div\",null,{\"className\":\"mt-10 flex items-center justify-between text-sm font-semibold text-[color:var(--accent)]\",\"children\":[[\"$\",\"$Le\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center gap-2 rounded-full px-3 py-2 transition hover:bg-[color:var(--surface)]\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"strokeWidth\":1.5,\"stroke\":\"currentColor\",\"aria-hidden\":true,\"data-slot\":\"icon\",\"ref\":\"$undefined\",\"aria-labelledby\":\"$undefined\",\"className\":\"h-4 w-4\",\"children\":[null,[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3\"}]]}],\"Back to latest\"]}],[\"$\",\"$L1c\",null,{}]]}]\n"])</script></body></html>